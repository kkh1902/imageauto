{% extends "base.html" %}

{% block title %}동영상 생성 - ImageAuto{% endblock %}

{% block content %}
<div class="page-header">
    <div class="container">
        <h1><i class="fas fa-video"></i> AI 동영상 생성</h1>
        <p>이미지와 텍스트를 조합하여 매력적인 동영상을 제작하세요</p>
    </div>
</div>

<section class="video-generation">
    <div class="container">
        <div class="generation-tabs">
            <div class="tab-buttons">
                <button class="tab-btn active" data-tab="template">템플릿으로 만들기</button>
                <button class="tab-btn" data-tab="custom">직접 만들기</button>
                <button class="tab-btn" data-tab="text-to-video">텍스트로 만들기</button>
            </div>

            <!-- 템플릿 기반 생성 -->
            <div class="tab-content active" id="template-tab">
                <div class="template-section">
                    <h3><i class="fas fa-layer-group"></i> 템플릿 선택</h3>
                    <div class="template-grid">
                        <div class="template-card">
                            <div class="template-preview">
                                <i class="fas fa-play"></i>
                                <div class="template-type">소셜 미디어</div>
                            </div>
                            <h4>인스타그램 스토리</h4>
                            <p>9:16 세로형 동영상</p>
                            <button class="btn btn-primary">선택</button>
                        </div>

                        <div class="template-card">
                            <div class="template-preview">
                                <i class="fas fa-play"></i>
                                <div class="template-type">프레젠테이션</div>
                            </div>
                            <h4>제품 소개</h4>
                            <p>16:9 가로형 동영상</p>
                            <button class="btn btn-primary">선택</button>
                        </div>

                        <div class="template-card">
                            <div class="template-preview">
                                <i class="fas fa-play"></i>
                                <div class="template-type">광고</div>
                            </div>
                            <h4>홍보 동영상</h4>
                            <p>정사각형 동영상</p>
                            <button class="btn btn-primary">선택</button>
                        </div>

                        <div class="template-card">
                            <div class="template-preview">
                                <i class="fas fa-play"></i>
                                <div class="template-type">교육</div>
                            </div>
                            <h4>강의 영상</h4>
                            <p>16:9 가로형 동영상</p>
                            <button class="btn btn-primary">선택</button>
                        </div>
                    </div>
                </div>

                <div class="content-input">
                    <h3><i class="fas fa-edit"></i> 콘텐츠 입력</h3>
                    <div class="input-grid">
                        <div class="input-group">
                            <label>제목</label>
                            <input type="text" placeholder="동영상 제목을 입력하세요">
                        </div>
                        <div class="input-group">
                            <label>부제목</label>
                            <input type="text" placeholder="부제목을 입력하세요">
                        </div>
                        <div class="input-group full-width">
                            <label>메인 텍스트</label>
                            <textarea placeholder="동영상에 포함될 주요 내용을 입력하세요" rows="4"></textarea>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 직접 만들기 -->
            <div class="tab-content" id="custom-tab">
                <div class="custom-builder">
                    <div class="timeline-section">
                        <h3><i class="fas fa-film"></i> 타임라인</h3>
                        <div class="timeline">
                            <div class="timeline-track">
                                <div class="track-header">비디오</div>
                                <div class="track-content"></div>
                            </div>
                            <div class="timeline-track">
                                <div class="track-header">오디오</div>
                                <div class="track-content"></div>
                            </div>
                            <div class="timeline-track">
                                <div class="track-header">텍스트</div>
                                <div class="track-content"></div>
                            </div>
                        </div>
                    </div>

                    <div class="media-library">
                        <h3><i class="fas fa-folder"></i> 미디어 라이브러리</h3>
                        <div class="library-tabs">
                            <button class="library-tab active">이미지</button>
                            <button class="library-tab">비디오</button>
                            <button class="library-tab">음악</button>
                            <button class="library-tab">효과음</button>
                        </div>
                        <div class="media-grid">
                            <div class="media-item">
                                <div class="media-placeholder">
                                    <i class="fas fa-plus"></i>
                                </div>
                                <span>미디어 추가</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 텍스트로 만들기 -->
            <div class="tab-content" id="text-to-video-tab">
                <div class="text-to-video-section">
                    <h3><i class="fas fa-microphone"></i> 스크립트 입력</h3>
                    <textarea 
                        id="videoScript" 
                        placeholder="동영상으로 만들고 싶은 내용을 입력하세요...&#10;&#10;예: 우리 회사의 새로운 제품을 소개합니다. 이 제품은 혁신적인 기술로 만들어졌으며..."
                        rows="8"
                    ></textarea>

                    <div class="voice-options">
                        <h4><i class="fas fa-volume-up"></i> 음성 설정</h4>
                        <div class="option-grid">
                            <div class="option-group">
                                <label>음성 타입</label>
                                <select id="voiceType">
                                    <option value="female-1">여성 음성 1 (부드러운)</option>
                                    <option value="female-2">여성 음성 2 (활기찬)</option>
                                    <option value="male-1">남성 음성 1 (차분한)</option>
                                    <option value="male-2">남성 음성 2 (힘찬)</option>
                                </select>
                            </div>
                            <div class="option-group">
                                <label>말하기 속도</label>
                                <input type="range" id="speechSpeed" min="0.5" max="2" step="0.1" value="1">
                                <span class="range-value">1.0x</span>
                            </div>
                        </div>
                    </div>

                    <div class="visual-style">
                        <h4><i class="fas fa-palette"></i> 비주얼 스타일</h4>
                        <div class="style-grid">
                            <div class="style-option">
                                <div class="style-preview business">
                                    <i class="fas fa-briefcase"></i>
                                </div>
                                <span>비즈니스</span>
                            </div>
                            <div class="style-option">
                                <div class="style-preview casual">
                                    <i class="fas fa-heart"></i>
                                </div>
                                <span>캐주얼</span>
                            </div>
                            <div class="style-option">
                                <div class="style-preview tech">
                                    <i class="fas fa-robot"></i>
                                </div>
                                <span>테크</span>
                            </div>
                            <div class="style-option">
                                <div class="style-preview education">
                                    <i class="fas fa-graduation-cap"></i>
                                </div>
                                <span>교육</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 생성 버튼 -->
        <div class="generation-controls">
            <button class="btn btn-primary btn-large" id="generateVideoBtn">
                <i class="fas fa-video"></i>
                동영상 생성하기
            </button>
        </div>

        <!-- 생성 진행률 -->
        <div class="generation-progress" id="videoProgress" style="display: none;">
            <div class="progress-info">
                <h4>동영상 생성 중...</h4>
                <p id="progressMessage">스크립트 분석 중...</p>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="videoProgressFill"></div>
            </div>
            <div class="progress-percentage" id="progressPercentage">0%</div>
        </div>

        <!-- 최근 생성 동영상 -->
        <div class="recent-videos">
            <h3><i class="fas fa-history"></i> 최근 생성한 동영상</h3>
            <div class="video-grid">
                <div class="video-card">
                    <div class="video-thumbnail">
                        <i class="fas fa-play"></i>
                        <div class="video-duration">0:30</div>
                    </div>
                    <div class="video-info">
                        <h4>제품 소개 영상</h4>
                        <p>10분 전</p>
                    </div>
                    <div class="video-actions">
                        <button class="btn btn-sm btn-secondary">편집</button>
                        <button class="btn btn-sm btn-primary">다운로드</button>
                    </div>
                </div>

                <div class="video-card">
                    <div class="video-thumbnail">
                        <i class="fas fa-play"></i>
                        <div class="video-duration">1:15</div>
                    </div>
                    <div class="video-info">
                        <h4>회사 소개</h4>
                        <p>1시간 전</p>
                    </div>
                    <div class="video-actions">
                        <button class="btn btn-sm btn-secondary">편집</button>
                        <button class="btn btn-sm btn-primary">다운로드</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/video-generation.js') }}"></script>
{% endblock %}
